<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autonomias</title>
    <style>
        #marco1990 {
            width: 920px;
            height: 57px;
            background-color: #41CEF8;
            margin: 20px auto;
            padding: 10px;
            line-height: 57px;
        }
        fieldset{ width: 200px; height: 50px; margin:0px auto;padding:20px; border-radius: 25px;}
        legend{ padding:10px;background-color: black;color:white;border-radius:25px;}
        fieldset p{   text-align: center;padding:0px;margin:0px}
    </style>
    <script>
        var provincias = [
            ["Almería", "Cádiz", "Córdoba", "Granada", " Huelva", "Jaén", "Málaga", "Sevilla"],
            ["Huesca", "Teruel", "Zaragoza"],
            ["El Hierro", "Fuerteventura", "Gran Canaria", "La Gomera", "La Palma", "Lanzarote", "Tenerife"],
            ["Cantabria/Santander"],
            ["Avila", "Burgos", "León", "Palencia", "Salamanca", "Segovia", "Soria", "Valladolid", "Zamora"],
            ["Albacete", "Ciudad Real", "Cuenca", "Guadalajara", "Toledo"],
            ["Barcelona", "Girona", "Lleida", "Tarragona"],
            ["Ceuta y Melilla"],
            ["Madrid"],
            ["Navarra/Pamplona"],
            ["Alicante", "Castellón", "Valencia"],
            ["Badajoz", "Cáceres"],
            ["La Coruña", "Lugo", "Orense", "Pontevedra"],
            ["Formentera", "Ibiza", "Mallorca", "Menorca"],
            ["La Rioja/Logroño"],
            ["Alava", "Guipúzcoa", "Vizcaya"],
            ["Asturias/Oviedo"],
            ["Murcia"]];
 
        var cautonomas = ["Andalucía",
            "Aragón",
            "Canarias",
            "Cantabria",
            "Castilla y León",
            "Castilla la Mancha",
            "Cataluña",
            "Ceuta",
            "Comunidad de Madrid",
            "Comunidad de Navarra",
            "Comunidad Valenciana",
            "Extremadura",
            "Galicia",
            "Islas Baleares",
            "La Rioja",
            "Pais Vasco",
            "Principado de Asturias",
            "Region de Murcia"];
            /***********************************************************************/
            function cargar(){
                 var destino=document.getElementById("marco1990");
                 for(i=0;i<cautonomas.length;i++)ponimagen(i,destino);
            }
            /***********************************************************************/
            function ponimagen(ni,des){
                var elem=document.createElement("img");
                elem.setAttribute("src","banderas/"+cautonomas[ni]+".gif");
                elem.setAttribute("height","50");
                elem.setAttribute("width","50");
                elem.setAttribute("id","imagen_"+ni);
                des.appendChild(elem);
 
                var ori=document.getElementById("imagen_"+ni);
               
                ori.addEventListener("click",function(){  cambio(ori);  });
               
            }
             /***********************************************************************/
            function cambio(des){
                var destino=des.id;
                var n=destino.substring(destino.indexOf("_")+1);
                document.getElementById("comunidad").innerHTML=cautonomas[n];
                var h=document.getElementById("sprovincias");

                while(h.hasChildNodes()){
                    h.removeChild(h.firstChild);
                }
                    var vector=provincias[n];
                    var a;
                    for(i=0;i<vector.length;i++){
                        a=document.createElement('option');
                        a.text=vector[i];
                        a.value=vector[i];
                        h.add(a);
                    }

                }
            


            /***********************************************************************/
            window.addEventListener("load",()=>{cargar();})
    </script>
</head>
 
<body >
    <div id="marco1990"></div>
    <fieldset>
        <legend id="comunidad"></legend>
        <p><select id="sprovincias"></select></p>
    </fieldset>
</body>
 
</html>